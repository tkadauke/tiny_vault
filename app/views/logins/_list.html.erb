<%= form_tag edit_multiple_account_site_logins_path(@account, @site) do %>
  <table class="list">
    <thead>
      <tr>
        <% if current_user.can_edit_logins?(@account) %>
          <th></th>
        <% end %>
        <th><%= t('.description') %></th>
        <th><%= t('.site') %></th>
        <th><%= t('.username') %></th>
        <% if current_user.can_edit_logins?(@account) %>
          <th><%= t('.options') %></th>
        <% end %>
      </tr>
    </thead>
    <% if current_user.can_edit_logins?(@account) %>
      <tfoot>
        <tr>
          <td></td>
          <td colspan="5">
            <%= action_list do |a| %>
              <% a.link_to_function t(".all"), %{$$('table input[type="checkbox"]').each(function(element) { element.checked = true })} %>
              <% a.link_to_function t(".none"), %{$$('table input[type="checkbox"]').each(function(element) { element.checked = false })} %>
              <% a.link_to_function t(".invert"), %{$$('table input[type="checkbox"]').each(function(element) { element.checked = !element.checked })} %>
            <% end %>

            <%= submit_tag t(".edit_checked") %>
          </td>
        </tr>
      </tfoot>
    <% end %>
    <tbody>
      <% @logins.each do |login| %>
        <tr>
          <% if current_user.can_edit_logins?(@account) %>
            <td><%= check_box_tag "login_ids[]", login.id %></td>
          <% end %>
          <td><%= link_to login.description, account_site_login_path(login.site.account, login.site, login) %></td>
          <td><%= link_to highlight(login.site.name, @search_filter.query), account_site_logins_path(login.site.account, login.site) %></td>
          <td><%= link_to highlight(login.username, @search_filter.query), account_site_login_path(login.site.account, login.site, login) %></td>
          <% if current_user.can_edit_logins?(@account) %>
            <td>
              <%= action_list do |a| %>
                <% a.link_to t('.edit'), edit_account_site_login_path(login.site.account, login.site, login) if current_user.can_edit_logins?(@account) %>
                <% a.link_to t('.delete'), account_site_login_path(login.site.account, login.site, login), :method => :delete, :confirm => t('.really_delete_login') if current_user.can_delete_logins?(@account) %>
              <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
